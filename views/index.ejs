<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/styles.css">

    <script src="https://kit.fontawesome.com/64af63ddf7.js" crossorigin="anonymous"></script>

    <title>Todo List</title>
</head>
<body>

    <div class="overall">
        <div class="bg-img"><img src="images/bg-desktop-light.jpg"></div>
        <header>
            <h1 >TODO</h1>
        </header>

        <main>
            
                <div class="h1-div"><h1>Today's Date: <%= new Date().toLocaleDateString(); %></h1></div>

                <div class="form-div">
                    <form action="/submit" method="POST">
                        <textarea rows="2" type="text" id="myInput" name="newTask" class="form-text" placeholder="New Task..." style="width: 80%;"></textarea>
                        <input type="submit"  class="addBtn" id="submit" value="submit"> 
                    </form>
                </div>
                
                <ul id="myUL">
                    
                    <% if(locals.addTodo) { %>
                        <% addTodo.forEach(todoItem => { %>
                            <li ><div class="todo-a"> 
                                 <div><input type="checkbox" class="checkbox"></div>

                                 <div class="todoItem"><%= todoItem %></div>

                                 <div class="xmark"><svg style="background: red; height: 15px; width: 15px;" class="delete" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512">
                                 <path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 
                                 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 
                                 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 
                                 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg></div>
                            </div></li>
                        <% }) %>
                    <% } %>
                </ul>
            
            
        </main>
    </div>

     


     
     <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" 
     integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>

     <script>

        //  $("document").ready (function(){
        //     $("h1").css("color", "purple");
           
        // });

        $(".checkbox").click(function(event){
            $(event.target).closest("li").toggleClass("checked");
        });


        $(".delete").click(function(event){
            // alert('working');
            $(event.target).closest("li").hide();
        });



     </script>
     
<script src="/index.js"></script>
</body>
</html>